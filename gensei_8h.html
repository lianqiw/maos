<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<title>MAOS: lib/gensei.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="maos.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">MAOS
   </div>
   <div id="projectbrief">Multithreaded Adaptive Optics Simulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('gensei_8h.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">gensei.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aeb97684040b0b54674b200336ce88bd0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gensei_8h.html#aeb97684040b0b54674b200336ce88bd0">upsample_otf</a> (<a class="el" href="type_8h.html#structcmat">cmat</a> *out, const <a class="el" href="type_8h.html#structcmat">cmat</a> *in)</td></tr>
<tr class="separator:aeb97684040b0b54674b200336ce88bd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac69becfe684a72a709e5c3a8907f353"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type_8h.html#structcccell">cccell</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gensei_8h.html#aac69becfe684a72a709e5c3a8907f353">genseotf</a> (const <a class="el" href="type_8h.html#structpts__t">pts_t</a> *pts, const <a class="el" href="type_8h.html#structcell">cell</a> *amp, const <a class="el" href="type_8h.html#structdcell">dcell</a> *opdbias, const <a class="el" href="type_8h.html#structcell">cell</a> *saa, const <a class="el" href="type_8h.html#structdmat">dmat</a> *wvl, real r0, real L0, int embfac)</td></tr>
<tr class="separator:aac69becfe684a72a709e5c3a8907f353"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ad23b619df6f3b8e6f3d20dc319fcdc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gensei_8h.html#a8ad23b619df6f3b8e6f3d20dc319fcdc">gensepsf</a> (<a class="el" href="type_8h.html#structdccell">dccell</a> **psepsfs, const <a class="el" href="type_8h.html#structcccell">cccell</a> *otfs, const <a class="el" href="type_8h.html#structcccell">cccell</a> *lotf, const <a class="el" href="type_8h.html#structcell">cell</a> *saa, const <a class="el" href="type_8h.html#structdmat">dmat</a> *wvl, int notfx, int notfy)</td></tr>
<tr class="separator:a8ad23b619df6f3b8e6f3d20dc319fcdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab51030d92fbec997003e5509ece9e85c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gensei_8h.html#ab51030d92fbec997003e5509ece9e85c">gensei</a> (<a class="el" href="type_8h.html#structdcell">dcell</a> **pi0, <a class="el" href="type_8h.html#structdcell">dcell</a> **pgx, <a class="el" href="type_8h.html#structdcell">dcell</a> **pgy, <a class="el" href="type_8h.html#structcccell">cccell</a> **pfotf, const <a class="el" href="type_8h.html#structdccell">dccell</a> *sepsfs, const <a class="el" href="mkdtf_8h.html#structdtf__t">dtf_t</a> *dtf, const <a class="el" href="mkdtf_8h.html#structetf__t">etf_t</a> *etf, const <a class="el" href="type_8h.html#structdcell">dcell</a> *saa, const <a class="el" href="type_8h.html#structdcell">dcell</a> *gxyrot, const <a class="el" href="type_8h.html#structdmat">dmat</a> *siglev, const <a class="el" href="type_8h.html#structdmat">dmat</a> *wvlwts, const <a class="el" href="type_8h.html#structdcell">dcell</a> *goff, int i0scale, int shift2center)</td></tr>
<tr class="separator:ab51030d92fbec997003e5509ece9e85c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Contains routines to generate mean short exposure (tip/tilt removed) pixel intensities. Mostly used for LGS pixel intensity for its matched filter. Structure functions from kolmogorov spectrum is used. Not able to take into account outerscale yet.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000003">Todo:</a></b></dt><dd>find ways to factor in outerscale effect (use von karman spectrum instead of kolmogorov) </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aeb97684040b0b54674b200336ce88bd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb97684040b0b54674b200336ce88bd0">&#9670;&nbsp;</a></span>upsample_otf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void upsample_otf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="type_8h.html#structcmat">cmat</a> *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="type_8h.html#structcmat">cmat</a> *&#160;</td>
          <td class="paramname"><em>in</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Upsample the otf in to out while preserving the PSF sampling. It changes the sampling of OTF. Do not use this if the sampling of OTFs are needed to be preserved. </p>

</div>
</div>
<a id="aac69becfe684a72a709e5c3a8907f353"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac69becfe684a72a709e5c3a8907f353">&#9670;&nbsp;</a></span>genseotf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="type_8h.html#structcccell">cccell</a>* genseotf </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type_8h.html#structpts__t">pts_t</a> *&#160;</td>
          <td class="paramname"><em>pts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="type_8h.html#structcell">cell</a> *&#160;</td>
          <td class="paramname"><em>amp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="type_8h.html#structdcell">dcell</a> *&#160;</td>
          <td class="paramname"><em>opdbias</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="type_8h.html#structcell">cell</a> *&#160;</td>
          <td class="paramname"><em>saa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="type_8h.html#structdmat">dmat</a> *&#160;</td>
          <td class="paramname"><em>wvl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const real&#160;</td>
          <td class="paramname"><em>r0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const real&#160;</td>
          <td class="paramname"><em>L0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>embfac</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Generates short exposure OTF by calling <a class="el" href="genotf_8h.html#ad9d17cda1b057b8818301c019eadc230">genotf()</a> with p/t/t removal set. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pts</td><td>subaperture low left coordinate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">amp</td><td>amplitude map. can be dcell or dmat </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">opdbias</td><td>opd bias for otf. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">saa</td><td>list of subaperture area, can be dcell or dmat </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">wvl</td><td>list of wavelength </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">r0</td><td>Fried parameter </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">L0</td><td>Outer scale </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">embfac</td><td>Embedding factor, normally 2 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8ad23b619df6f3b8e6f3d20dc319fcdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ad23b619df6f3b8e6f3d20dc319fcdc">&#9670;&nbsp;</a></span>gensepsf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gensepsf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="type_8h.html#structdccell">dccell</a> **&#160;</td>
          <td class="paramname"><em>psepsfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="type_8h.html#structcccell">cccell</a> *&#160;</td>
          <td class="paramname"><em>otfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="type_8h.html#structcccell">cccell</a> *&#160;</td>
          <td class="paramname"><em>lotf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="type_8h.html#structcell">cell</a> *&#160;</td>
          <td class="paramname"><em>saa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="type_8h.html#structdmat">dmat</a> *&#160;</td>
          <td class="paramname"><em>wvl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>npsfx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>npsfy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Createing subaperture short exposure PSF from the tip/tilt removed turbulence OTF and uplink OTF. Not including detector or elongation characteristics. <br />
otfs and lotf must have the same sampling, but may have different dimension. Assumes that the otfs have peak in center. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">psepsfs</td><td>PSF. The sampling depends on sampling of OTF and notfx </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">otfs</td><td>OTFs of down link </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lotf</td><td>OTFs of uplink, optional </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">saa</td><td>subaperture area, optional </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">wvl</td><td>wavelength </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">npsfx</td><td>PSF dimension. optional. If specified, the psf will be padded by 0 or truncated </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab51030d92fbec997003e5509ece9e85c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab51030d92fbec997003e5509ece9e85c">&#9670;&nbsp;</a></span>gensei()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gensei </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="type_8h.html#structdcell">dcell</a> **&#160;</td>
          <td class="paramname"><em>pi0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="type_8h.html#structdcell">dcell</a> **&#160;</td>
          <td class="paramname"><em>pgx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="type_8h.html#structdcell">dcell</a> **&#160;</td>
          <td class="paramname"><em>pgy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="type_8h.html#structcccell">cccell</a> **&#160;</td>
          <td class="paramname"><em>pfotf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="type_8h.html#structdccell">dccell</a> *&#160;</td>
          <td class="paramname"><em>sepsfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="mkdtf_8h.html#structdtf__t">dtf_t</a> *&#160;</td>
          <td class="paramname"><em>dtf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="mkdtf_8h.html#structetf__t">etf_t</a> *&#160;</td>
          <td class="paramname"><em>etf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="type_8h.html#structdcell">dcell</a> *&#160;</td>
          <td class="paramname"><em>saa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="type_8h.html#structdcell">dcell</a> *&#160;</td>
          <td class="paramname"><em>gxyrot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="type_8h.html#structdmat">dmat</a> *&#160;</td>
          <td class="paramname"><em>siglev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="type_8h.html#structdmat">dmat</a> *&#160;</td>
          <td class="paramname"><em>wvlwts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="type_8h.html#structdcell">dcell</a> *&#160;</td>
          <td class="paramname"><em>goff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i0scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>shift2center</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>generate subaperture short exposure average pixel intensities sampled on detector from short expsoure PSF, the elongation transfer function of the sodium layer, and the detector transfer function. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->

   </ul>
 </div>
</body>
</html>
