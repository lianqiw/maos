<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<title>MAOS: sys/bin.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="maos.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">MAOS
   </div>
   <div id="projectbrief">Multithreaded Adaptive Optics Simulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('bin_8h.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">bin.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structheader__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bin_8h.html#structheader__t">header_t</a></td></tr>
<tr class="separator:structheader__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:unionheader__t_8____unnamed____"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bin_8h.html#unionheader__t_8____unnamed____">header_t.__unnamed__</a></td></tr>
<tr class="separator:unionheader__t_8____unnamed____"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a7d7a62842f24cb108f65eccaffd1792e"><td class="memItemLeft" align="right" valign="top"><a id="a7d7a62842f24cb108f65eccaffd1792e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>M_INT</b>&#160;&#160;&#160;M_INT32</td></tr>
<tr class="separator:a7d7a62842f24cb108f65eccaffd1792e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4ed8c773baf80e6ca472bb27587922e"><td class="memItemLeft" align="right" valign="top"><a id="ae4ed8c773baf80e6ca472bb27587922e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>M_STR</b>&#160;&#160;&#160;M_INT8</td></tr>
<tr class="separator:ae4ed8c773baf80e6ca472bb27587922e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc46f80934732beab06ff0684ca9727e"><td class="memItemLeft" align="right" valign="top"><a id="abc46f80934732beab06ff0684ca9727e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>M_SPINT</b>&#160;&#160;&#160;M_INT</td></tr>
<tr class="separator:abc46f80934732beab06ff0684ca9727e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a143f4fa19469a58a25aa68e849f53fcf"><td class="memItemLeft" align="right" valign="top"><a id="a143f4fa19469a58a25aa68e849f53fcf"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>M_DSP</b>&#160;&#160;&#160;M_DSP32</td></tr>
<tr class="separator:a143f4fa19469a58a25aa68e849f53fcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6282d60f5bfacf2f65f94b6cfaeade82"><td class="memItemLeft" align="right" valign="top"><a id="a6282d60f5bfacf2f65f94b6cfaeade82"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>M_CSP</b>&#160;&#160;&#160;M_CSP32</td></tr>
<tr class="separator:a6282d60f5bfacf2f65f94b6cfaeade82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a904a7320dfaf77ee6975c2fa155a3adb"><td class="memItemLeft" align="right" valign="top"><a id="a904a7320dfaf77ee6975c2fa155a3adb"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>M_SSP</b>&#160;&#160;&#160;M_SSP32</td></tr>
<tr class="separator:a904a7320dfaf77ee6975c2fa155a3adb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a016657695b7846af8c7ff251d529f946"><td class="memItemLeft" align="right" valign="top"><a id="a016657695b7846af8c7ff251d529f946"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>M_ZSP</b>&#160;&#160;&#160;M_ZSP32</td></tr>
<tr class="separator:a016657695b7846af8c7ff251d529f946"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0468ad1ff5a57350eee38cf271a14d9e"><td class="memItemLeft" align="right" valign="top"><a id="a0468ad1ff5a57350eee38cf271a14d9e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>IS_SHM</b>(name)&#160;&#160;&#160;(name &amp;&amp; ((name[0]=='/' &amp;&amp; !strchr(name+1, '/')) || !<a class="el" href="sys_2misc_8h.html#abdb55b1f06f30fbd5f164aa613a0c67f">mystrcmp</a>(name, &quot;/shm&quot;)))</td></tr>
<tr class="separator:a0468ad1ff5a57350eee38cf271a14d9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a835e277ed6ef73f6203b189273627747"><td class="memItemLeft" align="right" valign="top"><a id="a835e277ed6ef73f6203b189273627747"></a>
typedef int&#160;</td><td class="memItemRight" valign="bottom"><b>spint</b></td></tr>
<tr class="separator:a835e277ed6ef73f6203b189273627747"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ad19d6aaec27e278423aae876b41c5dfe"><td class="memItemLeft" align="right" valign="top"><a id="ad19d6aaec27e278423aae876b41c5dfe"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>M_ID</b> { <br />
&#160;&#160;<b>M_0</b> =0x0, 
<b>M_CSP64</b> =0x6400, 
<b>M_DSP64</b> =0x6401, 
<b>M_DBL</b> =0x6402, 
<br />
&#160;&#160;<b>M_INT64</b> =0x6403, 
<b>M_CMP</b> =0x6404, 
<b>M_INT32</b> =0x6405, 
<b>M_CSP32</b> =0x6406, 
<br />
&#160;&#160;<b>M_DSP32</b> =0x6407, 
<b>M_FLT</b> =0x6408, 
<b>M_ZMP</b> =0x6409, 
<b>M_INT8</b> =0x640A, 
<br />
&#160;&#160;<b>M_INT16</b> =0x640B, 
<b>MCC_ANY</b> =0x6421, 
<b>M_SSP64</b> =0x6430, 
<b>M_SSP32</b> =0x6431, 
<br />
&#160;&#160;<b>M_ZSP64</b> =0x6432, 
<b>M_ZSP32</b> =0x6433, 
<b>M_COMMENT</b> =0x6500, 
<b>M_SKIP</b> =0x6600, 
<br />
&#160;&#160;<b>M_MAP32</b> =0x016408, 
<b>M_RECTMAP32</b> =0x026408, 
<b>M_LOC32</b> =0x036408, 
<b>M_MAP64</b> =0x016402, 
<br />
&#160;&#160;<b>M_RECTMAP64</b> =0x026402, 
<b>M_LOC64</b> =0x036402, 
<b>M_EOD</b> =0x64FF
<br />
 }</td></tr>
<tr class="separator:ad19d6aaec27e278423aae876b41c5dfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a55e5dc1b9fd29f858d152f3194dd1d22"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bin_8h.html#a55e5dc1b9fd29f858d152f3194dd1d22">zfexist</a> (const char *format,...)</td></tr>
<tr class="memdesc:a55e5dc1b9fd29f858d152f3194dd1d22"><td class="mdescLeft">&#160;</td><td class="mdescRight">saving to disk will be disabled when set to nonzero.  <a href="#a55e5dc1b9fd29f858d152f3194dd1d22">More...</a><br /></td></tr>
<tr class="separator:a55e5dc1b9fd29f858d152f3194dd1d22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a413945d9b9ed2b96159910115707a7ad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bin_8h.html#a413945d9b9ed2b96159910115707a7ad">zftouch</a> (const char *format,...)</td></tr>
<tr class="separator:a413945d9b9ed2b96159910115707a7ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb7723b26befc0c6f2a95a7e1a516201"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bin_8h.html#afb7723b26befc0c6f2a95a7e1a516201">zfeof</a> (file_t *fp)</td></tr>
<tr class="separator:afb7723b26befc0c6f2a95a7e1a516201"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2befd7adf220d7469f537919c2c3975"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlong.html">long</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bin_8h.html#aa2befd7adf220d7469f537919c2c3975">zfpos</a> (file_t *fp)</td></tr>
<tr class="separator:aa2befd7adf220d7469f537919c2c3975"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acff7a399a7daacbf8fcca57c18732f57"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlong.html">long</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bin_8h.html#acff7a399a7daacbf8fcca57c18732f57">zfseek</a> (file_t *fp, <a class="el" href="classlong.html">long</a> offset, int whence)</td></tr>
<tr class="separator:acff7a399a7daacbf8fcca57c18732f57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fb14ee86ee80eac407abb5fe9b5e289"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bin_8h.html#a0fb14ee86ee80eac407abb5fe9b5e289">zfrewind</a> (file_t *fp)</td></tr>
<tr class="separator:a0fb14ee86ee80eac407abb5fe9b5e289"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cc9385f1a99368d36091786b313dea2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlong.html">long</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bin_8h.html#a0cc9385f1a99368d36091786b313dea2">zflen</a> (file_t *fp)</td></tr>
<tr class="separator:a0cc9385f1a99368d36091786b313dea2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43fd0b9636dd5ca782e8c718eeb8b7f1"><td class="memItemLeft" align="right" valign="top">file_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bin_8h.html#a43fd0b9636dd5ca782e8c718eeb8b7f1">zfopen</a> (const char *fn, const char *mod)</td></tr>
<tr class="separator:a43fd0b9636dd5ca782e8c718eeb8b7f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad161e85bf0a438ab4f30a67f9dcc009f"><td class="memItemLeft" align="right" valign="top"><a id="ad161e85bf0a438ab4f30a67f9dcc009f"></a>
file_t *&#160;</td><td class="memItemRight" valign="bottom"><b>zfdopen</b> (int fd)</td></tr>
<tr class="separator:ad161e85bf0a438ab4f30a67f9dcc009f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b81bfaf82d10ec42e8d296544a0b3dc"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bin_8h.html#a4b81bfaf82d10ec42e8d296544a0b3dc">zfname</a> (file_t *fp)</td></tr>
<tr class="separator:a4b81bfaf82d10ec42e8d296544a0b3dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01b67a362199a6b984e5759f7d84c168"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bin_8h.html#a01b67a362199a6b984e5759f7d84c168">zfisfits</a> (file_t *fp)</td></tr>
<tr class="separator:a01b67a362199a6b984e5759f7d84c168"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ed840d37c980314e41e565e7dd617d3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bin_8h.html#a4ed840d37c980314e41e565e7dd617d3">zfclose</a> (file_t *fp)</td></tr>
<tr class="separator:a4ed840d37c980314e41e565e7dd617d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace6a770f21f23800c9f497498495d1d5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bin_8h.html#ace6a770f21f23800c9f497498495d1d5">zfwrite</a> (const void *ptr, const size_t size, const size_t nmemb, file_t *fp)</td></tr>
<tr class="separator:ace6a770f21f23800c9f497498495d1d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac266a2663e090233d93f35fc2453a753"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bin_8h.html#ac266a2663e090233d93f35fc2453a753">zfread</a> (void *ptr, const size_t size, const size_t nmemb, file_t *fp)</td></tr>
<tr class="separator:ac266a2663e090233d93f35fc2453a753"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac87d75297b5fc4ea1d7c8ad2a62dbd7b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bin_8h.html#ac87d75297b5fc4ea1d7c8ad2a62dbd7b">zferrno</a> (file_t *fp)</td></tr>
<tr class="separator:ac87d75297b5fc4ea1d7c8ad2a62dbd7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a343d68b2551eff30cf94bb976cafb0ff"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bin_8h.html#a343d68b2551eff30cf94bb976cafb0ff">bytes_header</a> (const char *header)</td></tr>
<tr class="separator:a343d68b2551eff30cf94bb976cafb0ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1825ca342f947862c152e0408e923189"><td class="memItemLeft" align="right" valign="top"><a id="a1825ca342f947862c152e0408e923189"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>write_timestamp</b> (file_t *fp)</td></tr>
<tr class="separator:a1825ca342f947862c152e0408e923189"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeafd15c22e61f56f291b709b43ddb04e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bin_8h.html#aeafd15c22e61f56f291b709b43ddb04e">write_header</a> (const <a class="el" href="bin_8h.html#structheader__t">header_t</a> *header, file_t *fp)</td></tr>
<tr class="separator:aeafd15c22e61f56f291b709b43ddb04e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adae7a5ada62a1a4bb2f5934e2ebc538f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bin_8h.html#adae7a5ada62a1a4bb2f5934e2ebc538f">read_header</a> (<a class="el" href="bin_8h.html#structheader__t">header_t</a> *header, file_t *fp)</td></tr>
<tr class="separator:adae7a5ada62a1a4bb2f5934e2ebc538f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a546b25cd4878494b18d9af3f929042ba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlong.html">long</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bin_8h.html#a546b25cd4878494b18d9af3f929042ba">writearr</a> (const void *fpn, const int <a class="el" href="sys_2misc_8h.html#a251424e05fad4be552824c5a51e94ce0">isfile</a>, const size_t size, const uint32_t magic, const char *header, const void *p, const uint64_t nx, const uint64_t ny)</td></tr>
<tr class="separator:a546b25cd4878494b18d9af3f929042ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35de71ea607603a92f4713654866764f"><td class="memItemLeft" align="right" valign="top">struct mem_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bin_8h.html#a35de71ea607603a92f4713654866764f">mem_new</a> (void *p) __attribute__((warn_unused_result))</td></tr>
<tr class="separator:a35de71ea607603a92f4713654866764f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3c54c42831a640968dd760dab69abf3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bin_8h.html#aa3c54c42831a640968dd760dab69abf3">mem_unref</a> (mem_t **in)</td></tr>
<tr class="separator:aa3c54c42831a640968dd760dab69abf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd115483d5a175a3162ecb5ff7837414"><td class="memItemLeft" align="right" valign="top">mem_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bin_8h.html#acd115483d5a175a3162ecb5ff7837414">mem_ref</a> (mem_t *in) __attribute__((warn_unused_result))</td></tr>
<tr class="separator:acd115483d5a175a3162ecb5ff7837414"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7da0f869b3a0eb2e8bc15e3f9b38a67"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bin_8h.html#af7da0f869b3a0eb2e8bc15e3f9b38a67">mem_replace</a> (mem_t *in, void *p)</td></tr>
<tr class="separator:af7da0f869b3a0eb2e8bc15e3f9b38a67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fa87f47e76e8670336e59846fe2e986"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bin_8h.html#a5fa87f47e76e8670336e59846fe2e986">mem_nref</a> (const mem_t *in)</td></tr>
<tr class="separator:a5fa87f47e76e8670336e59846fe2e986"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab90b10101a8a04135e48d6fd545a42fb"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bin_8h.html#ab90b10101a8a04135e48d6fd545a42fb">mem_p</a> (const mem_t *in)</td></tr>
<tr class="separator:ab90b10101a8a04135e48d6fd545a42fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8a17b269aed5fb1ef2d79fe70ac4077"><td class="memItemLeft" align="right" valign="top">mem_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bin_8h.html#aa8a17b269aed5fb1ef2d79fe70ac4077">mmap_open</a> (const char *fn, size_t msize, int rw)</td></tr>
<tr class="separator:aa8a17b269aed5fb1ef2d79fe70ac4077"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30c2423f18febf174e2c8a3397fcfdc6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bin_8h.html#a30c2423f18febf174e2c8a3397fcfdc6">mmap_write_header</a> (char **p0, uint32_t magic, <a class="el" href="classlong.html">long</a> nx, <a class="el" href="classlong.html">long</a> ny, const char *header)</td></tr>
<tr class="separator:a30c2423f18febf174e2c8a3397fcfdc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fe6b1220b1d2418a8198fcf62c8892e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bin_8h.html#a8fe6b1220b1d2418a8198fcf62c8892e">mmap_read_header</a> (char **p0, uint32_t *magic, <a class="el" href="classlong.html">long</a> *nx, <a class="el" href="classlong.html">long</a> *ny, const char **header0)</td></tr>
<tr class="separator:a8fe6b1220b1d2418a8198fcf62c8892e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a097892c6434a429ee7a2b89ea712b05e"><td class="memItemLeft" align="right" valign="top"><a id="a097892c6434a429ee7a2b89ea712b05e"></a>
async_t *&#160;</td><td class="memItemRight" valign="bottom"><b>async_init</b> (file_t *fp, const size_t size, const uint32_t magic, const char *str, const void *p, const uint64_t nx, const uint64_t ny)</td></tr>
<tr class="separator:a097892c6434a429ee7a2b89ea712b05e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0208a3d751b79aaaf879f0ce17a1b13"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bin_8h.html#ae0208a3d751b79aaaf879f0ce17a1b13">async_write</a> (async_t *async, <a class="el" href="classlong.html">long</a> offset, int wait)</td></tr>
<tr class="separator:ae0208a3d751b79aaaf879f0ce17a1b13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b5a92b55915d614a7c8569ff1d27b81"><td class="memItemLeft" align="right" valign="top"><a id="a2b5a92b55915d614a7c8569ff1d27b81"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>async_free</b> (async_t *async)</td></tr>
<tr class="separator:a2b5a92b55915d614a7c8569ff1d27b81"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Defines our custom file format .bin that may be gzipped and the basic IO functions. All file read/write operators are through functions in this file. The routines can also operate on .fits files. </p>
</div><hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structheader__t" id="structheader__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structheader__t">&#9670;&nbsp;</a></span>header_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct header_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"></div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a72b096a89890f74af1f91bc4f03538fb"></a>union <a class="el" href="bin_8h.html#unionheader__t_8____unnamed____">header_t</a></td>
<td class="fieldname">
__unnamed__</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a72ab2223d410da93e0a586bf8d7a8840"></a>uint64_t</td>
<td class="fieldname">
nx</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="aa71a34dd56dcaac2b83d6d0b7de01474"></a>uint64_t</td>
<td class="fieldname">
ny</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a66647f2919e9e15330a797bfce09f4b0"></a>char *</td>
<td class="fieldname">
str</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="unionheader__t_8____unnamed____" id="unionheader__t_8____unnamed____"></a>
<h2 class="memtitle"><span class="permalink"><a href="#unionheader__t_8____unnamed____">&#9670;&nbsp;</a></span>header_t.__unnamed__</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">union header_t.__unnamed__</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"></div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="ab80bb7740288fda1f201890375a60c8f"></a>M_ID</td>
<td class="fieldname">
id</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a2f3a4fccca6406e35bcf33e92dd93135"></a>uint32_t</td>
<td class="fieldname">
magic</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a55e5dc1b9fd29f858d152f3194dd1d22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55e5dc1b9fd29f858d152f3194dd1d22">&#9670;&nbsp;</a></span>zfexist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int zfexist </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>saving to disk will be disabled when set to nonzero. </p>
<p>Test whether a bin file exist. </p>

</div>
</div>
<a id="a413945d9b9ed2b96159910115707a7ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a413945d9b9ed2b96159910115707a7ad">&#9670;&nbsp;</a></span>zftouch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zftouch </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update the modification time of a bin file. </p>

</div>
</div>
<a id="afb7723b26befc0c6f2a95a7e1a516201"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb7723b26befc0c6f2a95a7e1a516201">&#9670;&nbsp;</a></span>zfeof()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int zfeof </td>
          <td>(</td>
          <td class="paramtype">file_t *&#160;</td>
          <td class="paramname"><em>fp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return 1 if end of file is reached. </p>

</div>
</div>
<a id="aa2befd7adf220d7469f537919c2c3975"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2befd7adf220d7469f537919c2c3975">&#9670;&nbsp;</a></span>zfpos()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlong.html">long</a> zfpos </td>
          <td>(</td>
          <td class="paramtype">file_t *&#160;</td>
          <td class="paramname"><em>fp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Tell position pointer in file. </p>

</div>
</div>
<a id="acff7a399a7daacbf8fcca57c18732f57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acff7a399a7daacbf8fcca57c18732f57">&#9670;&nbsp;</a></span>zfseek()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlong.html">long</a> zfseek </td>
          <td>(</td>
          <td class="paramtype">file_t *&#160;</td>
          <td class="paramname"><em>fp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlong.html">long</a>&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>whence</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Move the current position pointer, like fseek </p>

</div>
</div>
<a id="a0fb14ee86ee80eac407abb5fe9b5e289"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fb14ee86ee80eac407abb5fe9b5e289">&#9670;&nbsp;</a></span>zfrewind()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zfrewind </td>
          <td>(</td>
          <td class="paramtype">file_t *&#160;</td>
          <td class="paramname"><em>fp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Move the file position pointer to the beginning </p>

</div>
</div>
<a id="a0cc9385f1a99368d36091786b313dea2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cc9385f1a99368d36091786b313dea2">&#9670;&nbsp;</a></span>zflen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlong.html">long</a> zflen </td>
          <td>(</td>
          <td class="paramtype">file_t *&#160;</td>
          <td class="paramname"><em>fp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return file length </p>

</div>
</div>
<a id="a43fd0b9636dd5ca782e8c718eeb8b7f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43fd0b9636dd5ca782e8c718eeb8b7f1">&#9670;&nbsp;</a></span>zfopen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_t* zfopen </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fni</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>mod</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Open a bin file for read/write access.</p>
<p>Whether the file is gzipped or not is automatically determined when open for reading. When open for writing, if the file name ends with .bin or .fits, will not be gzipped. If the file has no suffix, the file will be gzipped and .bin is appened to file name. </p>

</div>
</div>
<a id="a4b81bfaf82d10ec42e8d296544a0b3dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b81bfaf82d10ec42e8d296544a0b3dc">&#9670;&nbsp;</a></span>zfname()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* zfname </td>
          <td>(</td>
          <td class="paramtype">file_t *&#160;</td>
          <td class="paramname"><em>fp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Open a bin file or socket for read/write access.</p>
<p>Whether the file is gzipped or not is automatically determined when open for reading. When open for writing, if the file name ends with .bin or .fits, will not be gzipped. If the file has no suffix, the file will be gzipped and .bin is appened to file name. Return the underlining filename </p>

</div>
</div>
<a id="a01b67a362199a6b984e5759f7d84c168"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01b67a362199a6b984e5759f7d84c168">&#9670;&nbsp;</a></span>zfisfits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int zfisfits </td>
          <td>(</td>
          <td class="paramtype">file_t *&#160;</td>
          <td class="paramname"><em>fp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return 1 when it is a fits file. </p>

</div>
</div>
<a id="a4ed840d37c980314e41e565e7dd617d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ed840d37c980314e41e565e7dd617d3">&#9670;&nbsp;</a></span>zfclose()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zfclose </td>
          <td>(</td>
          <td class="paramtype">file_t *&#160;</td>
          <td class="paramname"><em>fp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Close the file. </p>

</div>
</div>
<a id="ace6a770f21f23800c9f497498495d1d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace6a770f21f23800c9f497498495d1d5">&#9670;&nbsp;</a></span>zfwrite()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int zfwrite </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>nmemb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">file_t *&#160;</td>
          <td class="paramname"><em>fp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Handles byteswapping in fits file format then call zfwrite_do to do the actual writing. </p>

</div>
</div>
<a id="ac266a2663e090233d93f35fc2453a753"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac266a2663e090233d93f35fc2453a753">&#9670;&nbsp;</a></span>zfread()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int zfread </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>nmemb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">file_t *&#160;</td>
          <td class="paramname"><em>fp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Handles byteswapping in fits file format then call zfread_do to do the actual writing. return 0 when succeed and -1 when error. </p>

</div>
</div>
<a id="ac87d75297b5fc4ea1d7c8ad2a62dbd7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac87d75297b5fc4ea1d7c8ad2a62dbd7b">&#9670;&nbsp;</a></span>zferrno()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int zferrno </td>
          <td>(</td>
          <td class="paramtype">file_t *&#160;</td>
          <td class="paramname"><em>fp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the error number </p>

</div>
</div>
<a id="a343d68b2551eff30cf94bb976cafb0ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a343d68b2551eff30cf94bb976cafb0ff">&#9670;&nbsp;</a></span>bytes_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t bytes_header </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>header</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the length of mem to storge the header and its dimension, rounded to multiple of 8. </p>

</div>
</div>
<a id="aeafd15c22e61f56f291b709b43ddb04e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeafd15c22e61f56f291b709b43ddb04e">&#9670;&nbsp;</a></span>write_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void write_header </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="bin_8h.html#structheader__t">header_t</a> *&#160;</td>
          <td class="paramname"><em>header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">file_t *&#160;</td>
          <td class="paramname"><em>fp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A unified header writing routine for .bin and .fits files. It write the array information and string header if any. </p>

</div>
</div>
<a id="adae7a5ada62a1a4bb2f5934e2ebc538f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adae7a5ada62a1a4bb2f5934e2ebc538f">&#9670;&nbsp;</a></span>read_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int read_header </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="bin_8h.html#structheader__t">header_t</a> *&#160;</td>
          <td class="paramname"><em>header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">file_t *&#160;</td>
          <td class="paramname"><em>fp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A unified header reading routine for .bin and .fits files. It read the array information and string header if any. Return non zero value if reading failed </p>

</div>
</div>
<a id="a546b25cd4878494b18d9af3f929042ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a546b25cd4878494b18d9af3f929042ba">&#9670;&nbsp;</a></span>writearr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlong.html">long</a> writearr </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fpn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>isfn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>magic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint64_t&#160;</td>
          <td class="paramname"><em>nx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint64_t&#160;</td>
          <td class="paramname"><em>ny</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check whether the header refers to a cell. If yes, return NULL. nx, ny are assigned to the dimension.</p>
<p>Write the time stamp as header into current location in the file. Write an 1-d or 2-d array into the file. First write a magic number that represents the data type. Then write two numbers representing the dimension. Finally write the data itself.</p>
<p>returns the file offset of the array start </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fpn</td><td>The file pointer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">isfn</td><td>Is this a filename or already opened file </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>Size of each element </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">magic</td><td>The magic number. see <a class="el" href="bin_8h.html">bin.h</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">str</td><td>The header as string </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p</td><td>The data of the array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nx</td><td>Number of rows. this index changes fastest </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ny</td><td>Number of columns. 1 for vector </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a35de71ea607603a92f4713654866764f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35de71ea607603a92f4713654866764f">&#9670;&nbsp;</a></span>mem_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct mem_t* mem_new </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a mem_t object.</p>
<p>Notice that nref is set to 0. Default is set to reference heap memory. </p>

</div>
</div>
<a id="aa3c54c42831a640968dd760dab69abf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3c54c42831a640968dd760dab69abf3">&#9670;&nbsp;</a></span>mem_unref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mem_unref </td>
          <td>(</td>
          <td class="paramtype">mem_t **&#160;</td>
          <td class="paramname"><em>pin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unreference the mmaped memory. When the reference drops to zero free or unmap it. </p>

</div>
</div>
<a id="acd115483d5a175a3162ecb5ff7837414"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd115483d5a175a3162ecb5ff7837414">&#9670;&nbsp;</a></span>mem_ref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mem_t* mem_ref </td>
          <td>(</td>
          <td class="paramtype">mem_t *&#160;</td>
          <td class="paramname"><em>in</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a reference to a mem_t. </p>

</div>
</div>
<a id="af7da0f869b3a0eb2e8bc15e3f9b38a67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7da0f869b3a0eb2e8bc15e3f9b38a67">&#9670;&nbsp;</a></span>mem_replace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mem_replace </td>
          <td>(</td>
          <td class="paramtype">mem_t *&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Replace internal vector. If p is null, checking only. Use with care. </p>

</div>
</div>
<a id="a5fa87f47e76e8670336e59846fe2e986"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fa87f47e76e8670336e59846fe2e986">&#9670;&nbsp;</a></span>mem_nref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mem_nref </td>
          <td>(</td>
          <td class="paramtype">const mem_t *&#160;</td>
          <td class="paramname"><em>in</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check whether it is a referenced data. </p>

</div>
</div>
<a id="ab90b10101a8a04135e48d6fd545a42fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab90b10101a8a04135e48d6fd545a42fb">&#9670;&nbsp;</a></span>mem_p()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* mem_p </td>
          <td>(</td>
          <td class="paramtype">const mem_t *&#160;</td>
          <td class="paramname"><em>in</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return internal pointer </p>

</div>
</div>
<a id="aa8a17b269aed5fb1ef2d79fe70ac4077"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8a17b269aed5fb1ef2d79fe70ac4077">&#9670;&nbsp;</a></span>mmap_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mem_t* mmap_open </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>msize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Open a file for write with mmmap. We don't provide a access control here for generic usage of the function. Lock on a special dummy file for access control. </p>

</div>
</div>
<a id="a30c2423f18febf174e2c8a3397fcfdc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30c2423f18febf174e2c8a3397fcfdc6">&#9670;&nbsp;</a></span>mmap_write_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mmap_write_header </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>p0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>magic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlong.html">long</a>&#160;</td>
          <td class="paramname"><em>nx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlong.html">long</a>&#160;</td>
          <td class="paramname"><em>ny</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>header</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize the header in the mmaped file. If header is not null, header0 points to its location in mmaped file. Upon exit, p0 points to the location of data p. </p>

</div>
</div>
<a id="a8fe6b1220b1d2418a8198fcf62c8892e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fe6b1220b1d2418a8198fcf62c8892e">&#9670;&nbsp;</a></span>mmap_read_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mmap_read_header </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>p0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>magic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlong.html">long</a> *&#160;</td>
          <td class="paramname"><em>nx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlong.html">long</a> *&#160;</td>
          <td class="paramname"><em>ny</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>header0</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize the dimension from the header in the mmaped file. </p>

</div>
</div>
<a id="ae0208a3d751b79aaaf879f0ce17a1b13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0208a3d751b79aaaf879f0ce17a1b13">&#9670;&nbsp;</a></span>async_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void async_write </td>
          <td>(</td>
          <td class="paramtype">async_t *&#160;</td>
          <td class="paramname"><em>async</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlong.html">long</a>&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>wait</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write to file asynchronously </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->

   </ul>
 </div>
</body>
</html>
