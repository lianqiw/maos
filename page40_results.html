<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<title>MAOS: Simulation Results</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="maos.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">MAOS
   </div>
   <div id="projectbrief">Multithreaded Adaptive Optics Simulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('page40_results.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Simulation Results </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#maosres">RMS WFE</a><ul><li class="level2"><a href="#sect-python">Python</a></li>
<li class="level2"><a href="#sect-idl">IDL</a></li>
<li class="level2"><a href="#sect-fits">FITS</a></li>
<li class="level2"><a href="#autotoc_md19">Python</a></li>
<li class="level2"><a href="#autotoc_md20">Matlab</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md21">Plotting Results</a></li>
<li class="level1"><a href="#autotoc_md22">Reading Results</a><ul><li class="level2"><a href="#autotoc_md23">.bin file format</a></li>
<li class="level2"><a href="#autotoc_md24">MATLAB</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md25">Result Files</a><ul><li class="level2"><a href="#autotoc_md26">Wavefront error</a></li>
<li class="level2"><a href="#autotoc_md27">Split tomography</a></li>
<li class="level2"><a href="#autotoc_md28">Log files</a></li>
<li class="level2"><a href="#autotoc_md29">PSF</a></li>
<li class="level2"><a href="#autotoc_md30">Other</a></li>
</ul>
</li>
<li class="level1"><a href="#geometry">Geometry Data</a></li>
<li class="level1"><a href="#telemetry">Telemetry Data</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="maosres"></a>
RMS WFE</h1>
<p>MAOS provides a few convenient routines to quickly process the simulation results and obtain time averaged wavefront error.</p>
<h2><a class="anchor" id="autotoc_md19"></a>
Python</h2>
<p>Use the following (see <code>aolib.py</code>): </p><pre class="fragment">res,fds=maos_res(dir[,seeds] [,iframe] [,iframe2]) #gather field averaged WFE. [] indicate optional
res,fds=maos_res(dir*) #gather field averaged WFE from multiple folders recursively
res,fds=maos_res_each(dir*) #gather results for each field
</pre><h2><a class="anchor" id="autotoc_md20"></a>
Matlab</h2>
<p>Use the following: </p><pre class="fragment">res=maos_res(dir[,seeds] [,range]) %gather field averaged WFE. [] indicate optional
res,fds=maos_reseach(dir[, seeds] [,range]) #gather results for each field
</pre><h1><a class="anchor" id="autotoc_md21"></a>
Plotting Results</h1>
<p>The wavefront error time history can be processed using the built in tool <code>drawres</code> and plotted using the Gtk based <code>drawdaemon</code>. </p><pre class="fragment">drawres folder1 folder2 ...
</pre><p>If the specified folder contains subfolders with results, they will be plotted together. When using on a text terminal with <code>DISPLAY</code> not set, if there is <code>monitor</code> running in a connected computer, it will launch <code>drawdaemon</code>.</p>
<h1><a class="anchor" id="autotoc_md22"></a>
Reading Results</h1>
<p>MAOS generates output in binary format <code>.bin</code> files (which maybe gzipped) as described below. PSFs are written into <code>.fits</code> files with extensions.</p>
<h2><a class="anchor" id="autotoc_md23"></a>
.bin file format</h2>
<p>The data are saved to the <code></code>.bin files in a simple modular way. For a simple matrix (like double matrix or cell matrix), we first write a magic number (4 byte unsigned int) representing the data type, and then x and y dimension (two 8 byte unsigned int), and finally the data itself (if it is cell, recursively write the data contained in the cell with the same method).</p>
<p>Each block of data may optionally be proceeded with a metadata header that describes the data, for example, the sampling of a <code><a class="el" href="type_8h.html#structloc__t">loc_t</a></code> grid. The surf OPD contains header information about the sampling, origin and height of the OPD array.</p>
<p>We use <code>.bin</code> format instead of <code>.fits</code> because it can be conveniently memory mapped for best efficiency in reading or saving.</p>
<p>For implementation details, please refer to <a class="el" href="page91_basics.html#sect-bin">Bin file format</a>.</p>
<h2><a class="anchor" id="autotoc_md24"></a>
MATLAB</h2>
<p>There are two MATLAB <code>mex</code> routines <code>read</code> and <code>write</code> that can read and write <code></code>.bin or <code></code>.fits files in MATLAB. The source of these mex routines are located in source sub-folder <code>mex</code>. If <code>mex</code> is found in the system, this mex routines will be compiled automatically in the <code>mex</code> subfolder of the compiling folder. If it doesn't get compiled, please goto the <code>mex</code> subfolder in the source folder and type ./compile.sh to compile them. Copy <code>write.mexa64</code> and <code>read.mexa64</code> into a folder that is in your matlab path, such as <code>$HOME/matlab</code>. The usage in <code>MATLAB</code> is as follows:</p>
<div class="fragment"><div class="line">cle=read(&#39;Res_1&#39;);     #will try .bin or .fits</div><div class="line">cle=read(&#39;Res_1.bin&#39;); #only use .bin</div><div class="line"></div><div class="line">write(cle,&#39;Res_1&#39;);     will write the data to \c Res_1.bin</div><div class="line">write(cle,&#39;Res_1.bin&#39;); will write the data to \c Res_1.bin without compression.</div></div><!-- fragment --><p>If there is any problem in compiling <code>read.c</code> and <code>write.c</code>, there are also two matlab scripts in the <code>scripts</code> folder, <code>readbin.m</code> and <code>writebin.m</code>, that have most of functionality of <code>read.c</code>, <code>write.c</code> albeit a bit slower and cannot handle compressed files conveniently.</p>
<h2><a class="anchor" id="sect-python"></a>
Python</h2>
<p>There is <code>readbin.py</code> in <code>scripts</code> folder for reading <code></code>.bin or <code></code>.fits files in python. Alternatively, it is also possible to call <code>C</code> routines in python, including <code>readbin</code> and <code>writebin</code> as <code>read</code> and <code>write</code>. To do so, first set an environment variable <code>MAOS_AOLIB</code> poing to the <code>aolib.so</code> file in the <code></code>.bin folder in the compiling directory. Then import <code>scripts/aoslib.py</code> to your python.</p>
<h2><a class="anchor" id="sect-idl"></a>
IDL</h2>
<p>There are two idl scripts in the sub-folder <code>script</code>. They are <code>readbin.pro</code> for reading <code></code>.bin files, and <code>writebin.pro</code> for writing <code></code>.bin files.</p>
<h2><a class="anchor" id="sect-fits"></a>
FITS</h2>
<p>Certain results (e.g., PSF) are saved in <code></code>.fits format. Any standard fits reader (e.g., <code>fv</code>, <code>ds9</code>) should be able to read them. There is also an executable <code>bin2fits</code> that can convert <code></code>.bin to <code></code>.fits files.</p>
<h1><a class="anchor" id="autotoc_md25"></a>
Result Files</h1>
<p>There will be several files created during simulation in the result folder and subfolder <code>extra</code> (those results are not saved when <code>save.extra=0</code>). The number after underscore _ is the seed. For example, with seed 1 the following files are produced. Read in these files using provided mex function <code>read</code> in MATLAB. Notice that the suffix <code></code>.bin or <code></code>.fits has been omitted. You do not need to add the suffix when use <code>read</code>. </p>
<h2><a class="anchor" id="autotoc_md26"></a>
Wavefront error</h2>
<ul>
<li><code>Res_1:</code> A binary file containing a cell array that include the main results.<ul>
<li>Use res=read('Res_1');</li>
<li><code>res{1}</code> contains the open loop wavefront variance (WFV in units of \(m^2\)) in row vectors. The rows are<ul>
<li>Piston removed WFV</li>
<li>WFV in tip/tilt modes</li>
<li>Piston/tip/tilt removed WFV</li>
</ul>
</li>
<li><code>res{2}</code> contains the residual wavefront variance after the tomography phase screen is directly applied as the correction in open loop mode. Empty if evl.tomo is zero.</li>
<li><code>res{3}</code> contains the closed loop wavefront variance in row vectors. The rows are<ul>
<li>Piston removed WFV</li>
<li>WVF in tip/tilt modes</li>
<li>Piston/tip/tilt removed WFV</li>
</ul>
</li>
<li><code>res{4}</code> (Only in split tomography) contains the closed loop wavefront variance. The rows are<ul>
<li>WFV in LGS contains modes</li>
<li>WFV in NGS Tip/Tilt modes</li>
<li>WFV in NGS modes (including Tip/Tilt and additional modes controlled by NGS (On-Instrument WFS))</li>
</ul>
</li>
</ul>
</li>
<li><code>Resp_1:</code> <code>resp:</code> Results for each direction. Combines the following four files previous saved individually: Resolmp_1, Resclmp_1, Resolep_1, Resclep_1.<ul>
<li>Use <code>resp=read</code>('Resp_1)</li>
<li><code>resp</code>[0]: Open loop wavefront Zernike modes defined on not-normalized coordinate on the aperture, in the order of piston/tip/tilt ...</li>
<li><code>resp</code>[1]: Close loop wavefront Zernike modes, in the same format as <code>resp</code>[0].</li>
<li><code>resp</code>[2]: Open loop wavefront variance for each science field point. Each cell represent a science field point. The format is similar to res{1} above.</li>
<li><code>resp</code>[3]: Closed loop wavefront variance for each science field point, in the same format as <code>resp</code>[2].</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md27"></a>
Split tomography</h2>
<ul>
<li><code>Resclemp_1:</code> LGS/TT/NGS mode wavefront error for each direction.</li>
<li><code>RescleNGSm_1:</code> contains a row vector array of either the residual NGS modes (in radian like unit) or the applied NGS mode correction if ideal NGS mode correction is made. Mainly used to save the ideal NGS modes applied in skycoverage pre-simulation.</li>
<li><code>RescleNGSmp_1:</code> This is NGS mode before averaging over directions.</li>
<li><code>ResoleNGSm_1</code> and <code>ResoleNGSmp_1:</code> Like above, but for open loop.</li>
</ul>
<h2><a class="anchor" id="autotoc_md28"></a>
Log files</h2>
<ul>
<li><code>maos_</code>[HOST]_[PID].conf: The final effective configuration for MAOS run with pid PID. Can be used to reproduce the simulation or check the configurations. Lines begin with # are defaults configurations while the rest have been overridden. File for most recent run is linked to <code>maos_recent.conf</code> </li>
<li><code>run_</code>[HOST]_[PID].log: Log file. File for most recent run is linked to <code>run_recent.log</code> </li>
<li><code>sanea_sim_1:</code> When wavefront sensors are running in physical optics mode, the average gradient measurement error for that wavefront sensor is saved (in order) in a cell in this file. Each cell is a column vector with elements twice the number of subaperture. The first half is for \(x\) (or radial) gradient, and the second half is for \(y\) (or azimuthal) gradient. They are in units of \(rad^2\).</li>
</ul>
<h2><a class="anchor" id="autotoc_md29"></a>
PSF</h2>
<p>The PSF total FOV is <code>evl.wvl/evl</code>.dx but may be trimmed by setting <code>evl.psfsize</code> to a smaller number (of pixels). The PSF sampling is usually <code>evl.wvl/(2*aper.d)</code> but may be <code>evl.wvl/(evl.psfgridsize*evl.dx)</code> if <code>evl.psfgridsize</code> is set. The exact number of those can be checked in the fits header.</p>
<ul>
<li><code>evlpsfcl_1:</code> When <code>evl.psfmean</code> is 1, contains the time averaged science closed loop psf. if is a cell array of \(n_{wvl}\times n_{evl}\). Each cell contains a center cut of the science PSF.</li>
<li><code>evlpsfdl_1:</code> diffraction limited, PSF.</li>
<li><code>evlpsfol_1:</code> frame and field averaged open loop science PSF.</li>
<li><code>evlpsfhist_1_ievlx:</code> When <code>evl.psfhist</code> is 1, each of these files contains the time history of the complex PSF of evaluation direction \(x\).</li>
</ul>
<h2><a class="anchor" id="autotoc_md30"></a>
Other</h2>
<ul>
<li><code>Resfsmcmd_1:</code> Each cell contains the FSM tip/tilt command (only none empty for LGS WFS) history in unit of radian.</li>
<li><code>Resfsmerr_1:</code> Each cell contains the FSM tip/tilt error history in unit of radian.</li>
<li><code>psdcl_1</code> and <code>psdol_1:</code> Closed loop and pseudo open loop PSD for high order control obtained from telemetry.</li>
<li><code>ResCG_1</code>: Tomography and DM Fitting conjugate gradient residual time history.</li>
<li><code>Reszoompos_1</code>: For LGS only, the trombine position. One cell per WFS.</li>
</ul>
<h1><a class="anchor" id="geometry"></a>
Geometry Data</h1>
<p>When <code>save.setup=1</code>, MAOS will save the geometry data created before entering simulation to files in folder <code>setup</code>. When <code>save.recon=1</code>, the tomography and DM fitting matrices are also saved, which takes space and are not enabled by <code>save.setup=1</code>.</p>
<p>The following explains each file. Not all of them may exist, depending on set of options. The suffix of the file names are removed.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">File name  </th><th class="markdownTableHeadNone">Description   </th></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>actslave</code>  </td><td class="markdownTableBodyNone">The slaving operator   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>ahst_GM</code>  </td><td class="markdownTableBodyNone">ad hoc split tomography, model to gradient operator   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>ahst_MCC</code>  </td><td class="markdownTableBodyNone">ahst, model cross coupling matrix.   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>ahst_Mdm</code>  </td><td class="markdownTableBodyNone">ahst, the NGS mode defined on DM grid   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>ahst_Pngs</code>  </td><td class="markdownTableBodyNone">ahst, ngs mode removal operator from DM commands   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>ahst_Ptt</code>  </td><td class="markdownTableBodyNone">ahst, tip/tilt removal operator from DM commands   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>ahst_Rngs</code>  </td><td class="markdownTableBodyNone">ahst, ngs mode reconstructor   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>ahst_Wa</code>  </td><td class="markdownTableBodyNone">ahst, the weighting using science field.   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>aloc</code>  </td><td class="markdownTableBodyNone">DM actuator grid.   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>ploc</code>  </td><td class="markdownTableBodyNone">The coarse sampled grid on aperture for reconstruction   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>xloc</code>  </td><td class="markdownTableBodyNone">The tomography grid.   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>TT</code>  </td><td class="markdownTableBodyNone">The global tip/tilt modes for wfs   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>PTT</code>  </td><td class="markdownTableBodyNone">The global tip/tilt removal operator for wfs   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>saneai</code>  </td><td class="markdownTableBodyNone">The inverse of nea^2 used in tomography (rad^2)   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>W0</code>  </td><td class="markdownTableBodyNone">The W0 weighting defined on ploc.   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>W1</code>  </td><td class="markdownTableBodyNone">The W1 weighting defined on ploc.   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>aper_locs</code>  </td><td class="markdownTableBodyNone">The fine sampled grid on telescope aperture.   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>aper_amp</code>  </td><td class="markdownTableBodyNone">Telescope aperture amplitude defined on aper_locs   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>aper_mcc</code>  </td><td class="markdownTableBodyNone">modal cross-coupling matrix for modes defined on aper_locs   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>FLM</code>  </td><td class="markdownTableBodyNone">Fit left hand side operator, sparse matrix   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>FLU</code>  </td><td class="markdownTableBodyNone">Fit left hand side operator, Low rank U matrix   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>FLV</code>  </td><td class="markdownTableBodyNone">Fit left hand side operator, Low rank V matrix   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>FRM</code>  </td><td class="markdownTableBodyNone">Fit right hand side operator, sparse matrix   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>FRU</code>  </td><td class="markdownTableBodyNone">Fit right hand side operator, Low rank U matrix   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>FRV</code>  </td><td class="markdownTableBodyNone">Fit right hand side operator, Low rank V matrix   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>GA</code>  </td><td class="markdownTableBodyNone">Gradient operator from aloc.   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>GP</code>  </td><td class="markdownTableBodyNone">Gradient operator from ploc.   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>GX</code>  </td><td class="markdownTableBodyNone">Gradient operator from xloc.   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>HA</code>  </td><td class="markdownTableBodyNone">Ray tracing from aloc to ploc along fit directions   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>HXF</code>  </td><td class="markdownTableBodyNone">Ray tracing from xloc to ploc along fit directions   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>HXW</code>  </td><td class="markdownTableBodyNone">Ray tracing from xloc to ploc along wfs directions   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>L2</code>  </td><td class="markdownTableBodyNone">Laplacian regularization on xloc   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>NW</code>  </td><td class="markdownTableBodyNone">Low rank terms in fitting   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>NW2</code>  </td><td class="markdownTableBodyNone">Adjusted low rank terms by slaving.   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>powfs0_area</code>  </td><td class="markdownTableBodyNone">The subaperture area   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>powfs0_dtf0_nominal</code>  </td><td class="markdownTableBodyNone">The nominal of DTF   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>powfs0_dtf0_si</code>  </td><td class="markdownTableBodyNone">The si of DTF   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>powfs0_etfprep0_2d</code>  </td><td class="markdownTableBodyNone">The elongation transfer function   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>powfs0_GP</code>  </td><td class="markdownTableBodyNone">The gradient operator from ploc.   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>powfs0_GS0</code>  </td><td class="markdownTableBodyNone">The gradient operator from aper_locs.   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>powfs0_i0</code>  </td><td class="markdownTableBodyNone">The subaperture time averaged image for matched filter   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>powfs0_gx</code>  </td><td class="markdownTableBodyNone">The pixel by pixel x gradient of i0   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>powfs0_gy</code>  </td><td class="markdownTableBodyNone">The pixel by pixel y gradient of i0   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>powfs0_imcc</code>  </td><td class="markdownTableBodyNone">The inverse of model cross-coupling matrix of piston/tip/tilt modes   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>powfs0_loc</code>  </td><td class="markdownTableBodyNone">The grid for all subapertures (grouped by subapertures)   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>powfs0_amp</code>  </td><td class="markdownTableBodyNone">The amplitude defined on powfs0_loc   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>powfs0_llt_loc</code>  </td><td class="markdownTableBodyNone">The aperture grid of the uplink laser launch telescope (LLT)   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>powfs0_llt_amp</code>  </td><td class="markdownTableBodyNone">The aperture amplitude of LLT defined on powfs0_llt_loc   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>powfs0_llt_imcc</code>  </td><td class="markdownTableBodyNone">The inverse of model cross-coupling matrix of p/t/t modes for LLT   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>powfs0_srot</code>  </td><td class="markdownTableBodyNone">The orientation of each subaperture wrt LLT   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>powfs0_srsa</code>  </td><td class="markdownTableBodyNone">The distance of each subaperture from the LLT   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>powfs0_mtche</code>  </td><td class="markdownTableBodyNone">The matched filter gradient estimator   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>powfs0_pts</code>  </td><td class="markdownTableBodyNone">The lower left grid point of each subaperture.   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>powfs0_saloc</code>  </td><td class="markdownTableBodyNone">The lower left corner of each subaperture   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>powfs0_sanea</code>  </td><td class="markdownTableBodyNone">The subaperture noise equivalent angle(nea) in rad^2   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>powfs0_saneaxy</code>  </td><td class="markdownTableBodyNone">The nea along x/y directions in rad^2   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>powfs0_saneaixy</code>  </td><td class="markdownTableBodyNone">The inverse of nea along x/y directions in rad^-2   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>powfs0_saneara</code>  </td><td class="markdownTableBodyNone">The subaperture nea along r/a directions in rad^-2   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>powfs0_sepsf</code>  </td><td class="markdownTableBodyNone">The subaperture short exposure psf (tip/tilt removed)   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>powfs0_sodium</code>  </td><td class="markdownTableBodyNone">The sodium layer profile   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>powfs0_sprint</code>  </td><td class="markdownTableBodyNone">which subapertures to print   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>powfs0_GS0</code>  </td><td class="markdownTableBodyNone">The averaging gradient operator from pts.   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>powfs1_ZS0</code>  </td><td class="markdownTableBodyNone">The ztilt best fit gradient operator from pts.   </td></tr>
</table>
<h1><a class="anchor" id="telemetry"></a>
Telemetry Data</h1>
<p>Depending on parameters enabled, the simulation telemetry data will be saved to files in the simulation folder. The following describes them in detail. Notice that save.grad, save.gradgeom, save.ints and save.wfsopd takes values of 1, 2 or 3, where 1 means saving for all wfs, 2 means saving for only high order wfs and 3 means saving for lower order wfs.</p>
<p>Name convention: the last number after underscore is the seed. The following shows results for seed1. When there are multiple wfs or science fields, we only show the results for the first.</p>
<p>Many of the results contains a cell array of length <code>nsim</code> (number of simulation steps), whenever that makes sense.</p>
<p>The data regarding the DM commands are all defined on the actuator grid <code>aloc</code>.</p>
<p>The second column of the tables shows which option in <code>dbg.conf</code> enables the save of this data.</p>
<p>The suffix of the file names are removed.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">File name  </th><th class="markdownTableHeadNone">Option to enable  </th><th class="markdownTableHeadNone">Description   </th></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>atm_1</code>  </td><td class="markdownTableBodyNone">save.atm  </td><td class="markdownTableBodyNone">The atmosphere   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>dmerr_hi_1</code>  </td><td class="markdownTableBodyNone">save.dm  </td><td class="markdownTableBodyNone">The DM error signal for high order wfs   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>dmfit_hi_1</code>  </td><td class="markdownTableBodyNone">save.dm  </td><td class="markdownTableBodyNone">The DM fit result for high order wfs   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>Merr_lo_1</code>  </td><td class="markdownTableBodyNone">save.dm  </td><td class="markdownTableBodyNone">The low order mode error signal (split tomography)   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>Mint_lo_1</code>  </td><td class="markdownTableBodyNone">save.dm  </td><td class="markdownTableBodyNone">The low order mode integrator output (split tomography)   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>dmint_hi_1</code>  </td><td class="markdownTableBodyNone">save.dm  </td><td class="markdownTableBodyNone">The DM integrator output of high order wfs output (split integrator only)   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>dmint_1</code>  </td><td class="markdownTableBodyNone">save.dm  </td><td class="markdownTableBodyNone">The DM integrator output (command integrator for both high/low wfs)   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>dmreal_1</code>  </td><td class="markdownTableBodyNone">save.dm  </td><td class="markdownTableBodyNone">The real, effective DM commands applied   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>dmpttr_1</code>  </td><td class="markdownTableBodyNone">save.dmpttr  </td><td class="markdownTableBodyNone">The piston/tip/tilt removed, effective, DM commands.   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>evl0_opdcl_1</code>  </td><td class="markdownTableBodyNone">save.evlopd  </td><td class="markdownTableBodyNone">The closed loop opd for science fields   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>evl0_opdol_1</code>  </td><td class="markdownTableBodyNone">save.evlopd  </td><td class="markdownTableBodyNone">The open loop opd for science fields   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>gcov_wfs0_5_10_1</code>  </td><td class="markdownTableBodyNone">save.gcov  </td><td class="markdownTableBodyNone">The covariance between gradients of wfs 0 and 5 saved at time step 10   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>opdr_1</code>  </td><td class="markdownTableBodyNone">save.opdr  </td><td class="markdownTableBodyNone">The tomography output, defined on xloc   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>opdx_1</code>  </td><td class="markdownTableBodyNone">save.opdx  </td><td class="markdownTableBodyNone">The atmosphere projected onto xloc (direct fitting)   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>wfs0_gradcl_1</code>  </td><td class="markdownTableBodyNone">save.grad  </td><td class="markdownTableBodyNone">The wfs gradient measurement.   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>wfs0_gradnf_1</code>  </td><td class="markdownTableBodyNone">save.grad  </td><td class="markdownTableBodyNone">The wfs noise free gradient.   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>wfs0_gradol_1</code>  </td><td class="markdownTableBodyNone">save.grad  </td><td class="markdownTableBodyNone">The wfs pseudo open loop gradient   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>wfs0_gradgeom_1</code>  </td><td class="markdownTableBodyNone">save.gradgeom  </td><td class="markdownTableBodyNone">The wfs geometric gradient (in physical optics wfs simulations)   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>wfs0_intsnf_1</code>  </td><td class="markdownTableBodyNone">save.ints  </td><td class="markdownTableBodyNone">The wfs subaperture images (noise free)   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>wfs0_intsny_1</code>  </td><td class="markdownTableBodyNone">save.ints  </td><td class="markdownTableBodyNone">The wfs subaperture images (noisy)   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>wfs0_lltopd_1</code>  </td><td class="markdownTableBodyNone">save.wfsopd  </td><td class="markdownTableBodyNone">The wfs laser launch telescope OPD.   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>wfs0_opd_1</code>  </td><td class="markdownTableBodyNone">save.wfsopd  </td><td class="markdownTableBodyNone">The wfs OPD.   </td></tr>
</table>
<hr/>
 </div></div><!-- contents -->
</div><!-- doc-content -->

   </ul>
 </div>
</body>
</html>
